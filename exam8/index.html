<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8">
<!-- <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,target-densitydpi=medium-dpi"> -->
<title>bear</title>
<link rel="stylesheet" type="text/css" href="css/coca.css">
</head>
<body>
<div class="evt_wrap">
	<div class="evt_tit">
		<div class="tit_area">
			<h2 class="blind">1등 곰도 맞추고 100% 경품까지 폴라베어를 잡아라!</h2>
		</div>
	</div>
	
	<div class="evt_ct">
		<div class="evt_area">
			<p class="blind">100% 당첨! 가장먼저 도착하는 폴라베어를 맞춰주세요</p>
			<ul class="bxlst" id="clickLst">
			<li class="rabx">
				<input type="radio" name="beautybox" id="bx"/>
				<label for="bx"><span class="blind">스키타는 베어</span></label>
			</li>
			<li class="rabx">
				<input type="radio" name="beautybox" id="bx2"/>
				<label for="bx2"><span class="blind">보드타는 베어</span></label>
			</li>
			<li class="rabx">
				<input type="radio" name="beautybox" id="bx3"/>
				<label for="bx3"><span class="blind">스케이트 베어</span></label>
			</li>
			</ul>
			<a href="#" class="btn btn_app">choice</a>
		</div>
	</div>
	
	<div class="evt_ct2">
		<ul class="game_area sp" id="gameLst">
		<li class="lane"><div class="sp gom"></div></li>
		<li class="lane2"><div class="sp gom"></div></li>
		<li class="lane3"><div class="sp gom"></div></li>
		</ul>
	</div>

	<div style="height:2000px"></div>

<script src="../js/libs/jquery-1.12.4.min.js"></script>
<script>
var obj = {
	init : function () {
		this.setElements();
		this.initOpts();
		this.bindEvents();
	},
	initOpts : function () {
		this.joinEvent = false;
		this.setTime = 400;
	},
	setElements : function () {
		this.container = $('.evt_wrap');
		this.selectBtn = this.container.find('.btn_app');
		this.topArea = this.container.find('.bxlst');
		this.inputRadio = this.topArea.find('input[type=radio]');
		this.bottomArea = this.container.find('.game_area');
		this.bottomList = this.bottomArea.children();
	},
	bindEvents : function () {
		this.inputRadio.on('change', $.proxy(this.onClickBear, this));
		this.selectBtn.on('click', $.proxy(this.onClickFunc, this));
	},
	onClickFunc : function () {
		if (!this.joinEvent) {
			alert('곰을 선택해 주세요');
		} else {
			this.setMove();
		}
	},
	onClickBear : function (e) {
		this.joinEvent = true;
		var target = $(e.currentTarget);
		this.currentTarget = target.closest('li').index();
		console.log(this.currentTarget);
	},
	setMove : function () {
		$('html, body').animate({scrollTop:'400'}, 400);
		this.bottomList.find('.gom').delay(400).animate({
			transition : 'all ' + this.setTime/1000 + 's ease',
			top: '98px'
		});
		this.slideTime = setTimeout($.proxy(this.setClass, this), 800);
	},
	setClass : function () {
		this.bottomList.addClass('winlane');
	}
}
obj.init();
</script>
</div>
</body>
</html>